{"ast":null,"code":"import _slicedToArray from\"C:/Users/Ryzen/Desktop/Social/Social-Application/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import\"./signup.css\";import{signup}from'../../Component/ReduxContainer/apiCall';import app from'../../firebase';import{useNavigate}from'react-router-dom';import{getStorage,ref,uploadBytesResumable,getDownloadURL}from\"firebase/storage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.user;}),isFetching=_useSelector.isFetching,error=_useSelector.error;var user=useSelector(function(state){return state.user;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),phonenumber=_useState4[0],setphonenumber=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setusername=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setpassword=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),file=_useState10[0],setfile=_useState10[1];var userDetails=user.user;var navigator=useNavigate();var handleClick=function handleClick(e){e.preventDefault();var fileName=new Date().getTime()+(file===null||file===void 0?void 0:file.name);var storage=getStorage(app);var StorageRef=ref(storage,fileName);var uploadTask=uploadBytesResumable(StorageRef,file);uploadTask.on('state_changed',function(snapshot){// Observe state change events such as progress, pause, and resume\n// Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\nvar progress=snapshot.bytesTransferred/snapshot.totalBytes*100;console.log('Upload is '+progress+'% done');switch(snapshot.state){case'paused':console.log('Upload is paused');break;case'running':console.log('Upload is running');break;}},function(error){// Handle unsuccessful uploads\n},function(){// Handle successful uploads on complete\n// For instance, get the download URL: https://firebasestorage.googleapis.com/...\ngetDownloadURL(uploadTask.snapshot.ref).then(function(downloadURL){signup(dispatch,{email:email,password:password,username:username,phonenumber:phonenumber,profile:downloadURL});});});};console.log(userDetails===null||userDetails===void 0?void 0:userDetails.Status);if((userDetails===null||userDetails===void 0?void 0:userDetails.Status)==='Pending'){navigator(\"/verify/email\");}return/*#__PURE__*/_jsx(\"div\",{className:\"mainContainerForsignup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"submainContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,marginLeft:150,marginBottom:\"170px\"},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"logoText\",children:[\"Soc\",/*#__PURE__*/_jsx(\"span\",{className:\"part\",children:\"ial\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"introtext\",children:[\"Connect with your \",/*#__PURE__*/_jsx(\"span\",{className:\"part\",children:\"family and friends \"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:3},children:[/*#__PURE__*/_jsx(\"p\",{className:\"createaccountTxt\",children:\"Create New Account\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",id:\"file\",onChange:function onChange(e){return setfile(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",onChange:function onChange(e){return setusername(e.target.value);},className:\"inputText\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Phonenumber\",onChange:function onChange(e){return setphonenumber(e.target.value);},className:\"inputText\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"\",id:\"\",placeholder:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},className:\"inputText\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"******\",name:\"\",onChange:function onChange(e){return setpassword(e.target.value);},id:\"\",className:\"inputText\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btnforsignup\",onClick:handleClick,children:\"Signup\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'start',marginLeft:\"30.6%\"},children:\"Already have a account\"})})]})]})});}","map":{"version":3,"names":["React","useState","Link","useSelector","useDispatch","signup","app","useNavigate","getStorage","ref","uploadBytesResumable","getDownloadURL","jsx","_jsx","jsxs","_jsxs","Signup","dispatch","_useSelector","state","user","isFetching","error","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","phonenumber","setphonenumber","_useState5","_useState6","username","setusername","_useState7","_useState8","password","setpassword","_useState9","_useState10","file","setfile","userDetails","navigator","handleClick","e","preventDefault","fileName","Date","getTime","name","storage","StorageRef","uploadTask","on","snapshot","progress","bytesTransferred","totalBytes","console","log","then","downloadURL","profile","Status","className","children","style","flex","marginLeft","marginBottom","type","id","onChange","target","files","placeholder","value","onClick","to","textAlign"],"sources":["C:/Users/Ryzen/Desktop/Social/Social-Application/src/Pages/Register/signup.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport \"./signup.css\";\r\nimport { signup } from '../../Component/ReduxContainer/apiCall';\r\nimport app from '../../firebase';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\nexport default function Signup() {\r\n  const dispatch = useDispatch();\r\n  const {isFetching  , error} = useSelector((state)=>state.user);\r\n  const user = useSelector((state)=>state.user);\r\n  const [email , setEmail] = useState('');\r\n  const [phonenumber , setphonenumber] = useState('');\r\n  const [username , setusername] = useState('');\r\n  const [password , setpassword] = useState('');\r\n  const [file , setfile] = useState(null);\r\n  const userDetails = user.user;\r\n  const navigator = useNavigate();\r\n  const handleClick = (e)=>{\r\n    e.preventDefault();\r\n    const fileName = new Date().getTime() + file?.name;\r\n    const storage = getStorage(app);\r\n    const StorageRef = ref(storage , fileName);\r\n    \r\n    const uploadTask = uploadBytesResumable(StorageRef, file);\r\n    uploadTask.on('state_changed', \r\n  (snapshot) => {\r\n    // Observe state change events such as progress, pause, and resume\r\n    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n    const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n    console.log('Upload is ' + progress + '% done');\r\n    switch (snapshot.state) {\r\n      case 'paused':\r\n        console.log('Upload is paused');\r\n        break;\r\n      case 'running':\r\n        console.log('Upload is running');\r\n        break;\r\n    }\r\n  }, \r\n  (error) => {\r\n    // Handle unsuccessful uploads\r\n  }, \r\n  () => {\r\n    // Handle successful uploads on complete\r\n    // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n    getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n      signup(dispatch ,{email , password , username , phonenumber , profile:downloadURL});\r\n      })\r\n    });\r\n\r\n  }\r\nconsole.log(userDetails?.Status)\r\n  if(userDetails?.Status==='Pending'){\r\n    navigator(\"/verify/email\");\r\n  }\r\n  return (\r\n    <div className='mainContainerForsignup'>\r\n      <div className='submainContainer'>\r\n        <div style={{flex:1 , marginLeft:150  , marginBottom:\"170px\"}}>\r\n          <p className='logoText'>Soc<span className='part'>ial</span></p>\r\n          <p className='introtext'>Connect with your <span className='part'>family and friends </span></p>\r\n        </div>\r\n        <div style={{flex:3}}>\r\n          <p className='createaccountTxt'>Create New Account</p>\r\n          <input type=\"file\" name=\"file\" id=\"file\" onChange={(e)=>setfile(e.target.files[0])} />\r\n          <input type=\"text\" placeholder='Username' onChange={(e)=>setusername(e.target.value)} className='inputText' />\r\n          <input type=\"text\" placeholder='Phonenumber' onChange={(e)=>setphonenumber(e.target.value)} className='inputText' />\r\n          <input type=\"email\" name=\"\" id=\"\" placeholder='email' onChange={(e)=>setEmail(e.target.value)} className='inputText' />\r\n          <input type=\"password\" placeholder='******' name=\"\" onChange={(e)=>setpassword(e.target.value)} id=\"\" className='inputText' />\r\n          <button className='btnforsignup' onClick={handleClick}>Signup</button>\r\n          <Link to={\"/\"}>\r\n          <p style={{textAlign:'start' , marginLeft:\"30.6%\" }}>Already have a account</p>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}